# https://docs.travis-ci.com/user/languages/minimal-and-generic/
language: minimal
dist: bionic

# no install step to perform
install: true

# When a script command fails, travis run the next one so we must use
# `travis_terminate 1`
script:
  - cd ci
  - >
    echo 'travis_fold:start:docker'
    && make docker
    && echo 'travis_fold:end:docker'
    || travis_terminate 1

  - >
    echo 'travis_fold:start:test'
    && make test
    && echo 'travis_fold:end:test'
    || travis_terminate 1

